{% extends "base.html" %}

{% block content %}
<style>
/* Responsive font sizes - ALL text scales with viewport */
body {
  font-size: clamp(13px, 1.8vw + 0.5vh, 16px);
  line-height: 1.5;
}

h2 {
  font-size: clamp(20px, 3.5vw + 1vh, 32px);
  font-weight: 700;
}

h5 {
  font-size: clamp(14px, 2.2vw + 0.5vh, 20px);
  font-weight: 700;
  line-height: 1.3;
}

.card-text {
  font-size: clamp(12px, 1.6vw + 0.4vh, 14px);
  line-height: 1.6;
}

p.text-muted {
  font-size: clamp(12px, 1.6vw + 0.4vh, 15px);
}

.uni-name {
  font-size: clamp(16px, 2.6vw + 0.6vh, 24px);
  font-weight: 800;
  line-height: 1.2;
  text-align: center;
}

.uni-city {
  font-size: clamp(13px, 2.0vw + 0.4vh, 18px);
  line-height: 1.3;
}

/* University Cards - Responsive Grid */
.uni-card {
  transition: box-shadow .2s ease, transform .2s ease;
  border-radius: 10px;
  background: #f7f7f7;
  height: 100%;
  cursor: pointer;
  text-decoration: none;
  color: inherit;
  display: block;
}
.uni-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  text-decoration: none;
  color: inherit;
}

/* Responsive columns */
@media (max-width: 576px) {
  .uni-grid { grid-template-columns: repeat(1, 1fr); }
}
@media (min-width: 577px) and (max-width: 768px) {
  .uni-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (min-width: 769px) and (max-width: 992px) {
  .uni-grid { grid-template-columns: repeat(3, 1fr); }
}
@media (min-width: 993px) {
  .uni-grid { grid-template-columns: repeat(4, 1fr); }
}

.uni-grid {
  display: grid;
  gap: 20px;
  margin-bottom: 30px;
}
</style>

<div>
  <p class="text-muted text-center">Select a university to view available accommodations.</p>

  <div class="uni-grid">
    {% for uni in unis %}
        <a href="{% if service_slug %}{% url 'service-university-properties' service_slug=service_slug pk=uni.id %}{% else %}{% url 'students-accommodation-university' university_slug=uni.name|slugify %}{% endif %}" class="card uni-card" id="uni-{{ uni.id }}" data-uni-id="{{ uni.id }}">
      <div class="card-body">
        <h5 class="card-title uni-name text-center">{{ uni.name }}</h5>
        {% if uni.city %}
        <p class="card-text text-muted uni-city">{{ uni.city.name }}</p>
        {% endif %}
        <div class="mb-3">
          <strong>Admin Fee:</strong> <span class="badge bg-warning">${{ uni.admin_fee_per_head|floatformat:2 }}</span>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>
</div>

{% endblock %}
