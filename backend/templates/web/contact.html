{% extends "base.html" %}

{% block title %}Contact offRez | Off Campus Accommodation{% endblock %}
{% block meta_description %}Contact offRez for help finding off campus accommodation, rentals, or listings support. Send a message and we will get back to you.{% endblock %}

{% block content %}
<div class="container" style="max-width: 900px;">
  <h1 class="fw-bold" style="margin-bottom: 12px;">Contact Us</h1>
  <p class="text-muted" style="font-size: 1.05rem; line-height: 1.7;">
    Send us a message and we will get back to you.
  </p>

  <div class="row g-3">
    <div class="col-12 col-lg-7">
      <div class="card border-0" style="box-shadow: 0 2px 10px rgba(0,0,0,0.06);">
        <div class="card-body">
          <h5 class="card-title fw-bold">Send a message</h5>
          <form method="post" class="mt-3">
            {% csrf_token %}

            <div class="mb-3">
              <label class="form-label">Username</label>
              <input type="text" class="form-control" name="username" placeholder="Your name" value="{{ request.POST.username }}" required>
            </div>

            <div class="mb-3">
              <label class="form-label">Phone number</label>
              <input type="text" class="form-control" name="phone_number" placeholder="e.g. 07... or +263..." value="{{ request.POST.phone_number }}" required>
            </div>

            <div class="mb-3">
              <label class="form-label">Message</label>
              <textarea class="form-control" name="message" rows="5" placeholder="Type your message here..." required>{{ request.POST.message }}</textarea>
            </div>

            <button class="btn btn-primary" type="submit">Send message</button>
          </form>
        </div>
      </div>
    </div>

    <div class="col-12 col-lg-5">
      <div class="card border-0" style="box-shadow: 0 2px 10px rgba(0,0,0,0.06);">
        <div class="card-body">
          <h5 class="card-title fw-bold">Our contact details</h5>

          <div class="mt-3">
            <div class="fw-bold mb-1">Address</div>
            <div class="text-muted">{{ contact_address|default:"(Set CONTACT_ADDRESS in env)" }}</div>
          </div>

          <div class="mt-3">
            <div class="fw-bold mb-1">Phone</div>
            {% if contact_phone %}
              <a class="text-decoration-none" href="tel:{{ contact_phone }}">
                <i class="bi bi-telephone"></i>
                <span class="ms-1">{{ contact_phone }}</span>
              </a>
            {% else %}
              <div class="text-muted">(Set CONTACT_PHONE in env)</div>
            {% endif %}
          </div>

          <div class="mt-3">
            <div class="fw-bold mb-1">WhatsApp</div>
            <div class="d-flex gap-3 align-items-center">
              {% if whatsapp_number %}
                <a class="text-decoration-none" href="https://wa.me/{{ whatsapp_number|cut:'+'|cut:' ' }}" target="_blank" rel="noopener">
                  <i class="bi bi-whatsapp"></i>
                  <span class="ms-1">{{ whatsapp_number }}</span>
                </a>
                <a class="btn btn-outline-secondary btn-sm" href="tel:{{ whatsapp_number }}">
                  <i class="bi bi-telephone"></i>
                  <span class="ms-1">Call</span>
                </a>
              {% else %}
                <div class="text-muted">(Set WHATSAPP_NUMBER in env)</div>
              {% endif %}
            </div>
          </div>

          <div class="mt-4 text-muted" style="font-size: 0.95rem; line-height: 1.6;">
            Tip: Use WhatsApp for faster replies.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
